<!DOCTYPE html>
<html lang="en">


<!-- Mirrored from art-template.ru/vcard1/dark/single-post.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 14 Aug 2021 00:14:18 GMT -->
<head>
    <meta charset="utf-8" />
    <title>Theo Morgan </title>

	<!-- Meta Data -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="format-detection" content="telephone=no"/>
    <meta name="format-detection" content="address=no"/>
    <meta name="author" content="ArtTemplate" />
    <meta name="description" content="vCard" />

    <!-- Twitter data -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@ArtTemplates">
    <meta name="twitter:title" content="vCard">
    <meta name="twitter:description" content="vCard">
    <meta name="twitter:image" content="../assets/images/social.html">

    <!-- Open Graph data -->
    <meta property="og:title" content="ArtTemplate" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="your url website" />
    <meta property="og:image" content="../assets/images/social.html" />
    <meta property="og:description" content="vCard" />
    <meta property="og:site_name" content="vCard" />

	<!-- Favicons -->
	<link rel="apple-touch-icon" sizes="144x144" href="../morgan-cv/assets/images/favicons/apple-touch-icon-144x144.png">
	<link rel="apple-touch-icon" sizes="114x114" href="../morgan-cv/assets/images/favicons/apple-touch-icon-114x114.png">
	<link rel="apple-touch-icon" sizes="72x72" href="../morgan-cv/assets/images/favicons/apple-touch-icon-72x72.png">
	<link rel="apple-touch-icon" sizes="57x57" href="../morgan-cv/assets/images/favicons/apple-touch-icon-57x57.png">
	<link rel="shortcut icon" href="../assets/images/favicons/favicon.png" type="image/png">

    <!-- Styles -->
	<link rel="stylesheet" type="text/css" href="../morgan-cv/assets/styles/style.css"/>
    <link rel="stylesheet" type="text/css" href="../morgan-cv/assets/styles/style-dark.css"/>
	<link rel="stylesheet" type="text/css" href="../morgan-cv/assets/demo/style-demo.css"/>
	<link href="../morgan-cv/font-awesome-4.7.0 (1)/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet">
	
</head>
<body class="bg-triangles">
    <!-- Preloader -->
    <div class="preloader">
	    <div class="preloader__wrap">
		    <div class="circle-pulse">
                <div class="circle-pulse__1"></div>
                <div class="circle-pulse__2"></div>
            </div>
		    <div class="preloader__progress"><span></span></div>
		</div>
	</div>

	<!-- Scroll Indicator -->
    <div class="scroll-line"></div>

    <main class="main">
	    <div class="container gutter-top">
		    <div class="row sticky-parent">
			    <!-- Sidebar -->
                <aside class="col-12 col-md-12 col-xl-4">
				    <div class="sidebar box shadow pb-0 sticky-column">
						<svg class="avatar avatar--180" viewBox="0 0 188 188">
							<g class="avatar__box">
                                <image xlink:href="../morgan-cv/assets/img/1.jfif" height="100%" width="100%" />
                            </g>
                        </svg>
						<div class="text-center">
						    <h3 class="title title--h3 sidebar__user-name"><span class="weight--500">Theo</span> Morgan</h3>
							<div class="badge badge--dark">Senior Full Stack Developer
							</div>
							
							
						</div>
						
						<div class="sidebar__info box-inner">
              <ul class="contacts-block">
					            
                <li class="contacts-block__item"  >
                  <i class="font-icon icon-location"></i>Toronto, Ontario, Canada
              </li>
                <li class="contacts-block__item"  >
                  <i class="font-icon icon-envelope"></i>the.theomorgan88@gmail.com
              </li>
                <li class="contacts-block__item" >
                  <i class="font-icon icon-linkedin2" aria-hidden="true"></i>linkedin.com/in/morgantheo
              </li>
              </ul>
          
							<a class="btn" target="_blank" href="../morgan-cv/Theo.pdf"><i class="font-icon icon-download"></i> Download CV</a>
						</div>
					</div>	
		        </aside>
		        
				<!-- Content -->
		        <div class="col-12 col-md-12 col-xl-8">
				    <div class="box shadow pb-0">
					    <!-- Menu -->
					    <div class="circle-menu">
						   
						</div>
						<div class="inner-menu js-menu">
						    <ul class="nav">
								<li class="nav__item"><a href="../morgan-cv/index.html">About</a></li>
								<li class="nav__item"><a href="../morgan-cv/resume.html">Resume</a></li>
                                <li class="nav__item"><a href="../morgan-cv/portfolio.html">Portfolio</a></li>
                                <li class="nav__item"><a class="active" href="../morgan-cv/blog.html">Blog</a></li>
                                <li class="nav__item"><a href="../morgan-cv/contact.html">Contact</a></li>
                            </ul>
						</div>

						<!-- Post -->
						<div class="pb-3">
						    <header class="header-post">
						        <div class="header-post__date">Sep 15, 2019</div>
                                <h1 class="title title--h1">Why Promise.all() is not always a suitable solution.</h1>
								<div class="caption-post">
								    <p>If you’re a frontend developer engaged in building highly interactive user interfaces, you’ve most likely got React in your toolkit. While working on your React-powered creations, you should be careful to do things in tune with the React best practices. This will help to keep your code better organized.</p>
								
								</div>
								<div class="header-post__image-wrap">
								    <img class="cover lazyload" src="../morgan-cv/assets/images/blog/img-3.png" alt="" />
								</div>
							</header>
							<div class="caption-post">
								<h2>
                                    <a name="background" href="#background">
                                    </a>
                                    Background
                                  </h2>
                                  
                                  <p>Here at Stillio, it's paramount that we take care of the code we write. We process thousands of images and people rely on us for making sure their screenshots get delivered.</p>
                                  
                                  <p>Recently, we found something that might be interesting about <code>Promise.all()</code>.</p>
                                  
                                  <h2>
                                    <a name="what-is-promiseall" href="#what-is-promiseall">
                                    </a>
                                    What is Promise.all?
                                  </h2>
                                  
                                  <p>The .all method on the Promise object is a neat way to process a list of asynchronous actions in order and receive an Array of results. e.g.
                                  </p>
                                  
                                  <div class="highlight js-code-highlight">
                               
                                    <a href="../morgan-cv/assets/images/blog/1.png"><img src="../morgan-cv/assets/images/blog/1.png"></a>
                                  
                                  <div class="highlight__panel js-actions-panel">
                                  <div class="highlight__panel-action js-fullscreen-code-action">
                                    <p style="padding: 20px;">A handy feature of Promise.all is that it will give back the results in the order that the promise array was given, let's look at a more robust example:<br>
                                        <a href="../morgan-cv/assets/images/blog/2.png"><img src="../morgan-cv/assets/images/blog/2.png"></a>
                                  
                                  </div>
                                  </div>
                                  </div>
                                  
                                  
                                  
                            
                                  <div class="highlight__panel js-actions-panel">
                                  <div class="highlight__panel-action js-fullscreen-code-action">
                                   
                                  
                                  </div>
                                  </div>
                                  </div>
                                  
                                  
                                  
                                  <h2>
                                    <a name="description" href="#description">
                                    </a>
                                    Description
                                  </h2>
                                  
                                  <p>Above we have a fake <code>urlArray</code> variable. Assume that this is actual urls that we want to fetch. Since fetching is an async event we simulate that with the function <code>asyncAction</code>.</p>
                                  
                                  <p>All <code>asyncAction</code> actually does is return a promise which resolves at a random interval between 0 and 5000ms. This is to simulate changes in network latency, not all requests respond in the exact same time.</p>
                                  
                                  <p>To create an Array of Promises, we map the <code>urlArray</code> and return a new Array with the Promises after calling <code>asyncAction</code>. These aren't resolved yet, so we use Promise.all() in <code>start()</code> to give us an Array of results and since the function just returns the number:<br>
                                  </p>
                                  
                                  <div class="highlight js-code-highlight">
                                  <pre class="highlight javascript"><code><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Results: </span><span class="dl">"</span><span class="p">,</span> <span class="nx">results</span><span class="p">);</span> <span class="c1">// Results: [1, 2, 3, 4,  5, 6,  7, 8, 9, 10, 11, 12]</span>
                                  </code></pre>
                                  <div class="highlight__panel js-actions-panel">
                                  <div class="highlight__panel-action js-fullscreen-code-action">
                                  
                                  </div>
                                  </div>
                                  </div>
                                  
                                  
                                  
                                  <p>The results demonstrate that even though each request took a considerable different amount of time to complete, the Promise.all() method made sure that the results were returned in the correct order, hooray there's reliability! Or is there...</p>
                                  
                                  <h2>
                                    <a name="where-promiseall-gets-interesting" href="#where-promiseall-gets-interesting">
                                    </a>
                                    Where Promise.all() gets interesting
                                  </h2>
                                  
                                  <p>Let's look at the above example again, but this time we change some things up. In the fake request let's update the resolve function to this:<br>
                                  </p>
                                  
                                  <div class="highlight js-code-highlight">
                                 <a href="../morgan-cv/assets/images/blog/3.png"><img src="../morgan-cv/assets/images/blog/3.png"></a>
                                  <div class="highlight__panel js-actions-panel">
                                  <div class="highlight__panel-action js-fullscreen-code-action">
                                   
                                  
                                  </div>
                                  </div>
                                  </div>
                                  
                                  
                                  
                                  <p>We've added a date component to the result of the Promise. This is actually something that we required in our code base. We had to process multiple URLs in an Array asynchronously and give it a timestamp that was congruent to the order of the Array. Sounds like the perfect job for Promise.all().</p>
                                  
                                  <p>Let's run the code again with the timestamp component included, here's the result:<br>
                                  </p>
                                  
                                  <div class="highlight js-code-highlight">
                                  <pre class="highlight plaintext"><code>Results:  [
                                    '1: 2021-04-15T07:55:28.315Z',
                                    '2: 2021-04-15T07:55:27.586Z',
                                    '3: 2021-04-15T07:55:30.063Z',
                                    '4: 2021-04-15T07:55:30.707Z',
                                    '5: 2021-04-15T07:55:28.549Z',
                                    '6: 2021-04-15T07:55:30.284Z',
                                    '7: 2021-04-15T07:55:27.231Z',
                                    '8: 2021-04-15T07:55:29.844Z',
                                    '9: 2021-04-15T07:55:26.287Z',
                                    '10: 2021-04-15T07:55:27.308Z',
                                    '11: 2021-04-15T07:55:28.798Z',
                                    '12: 2021-04-15T07:55:30.978Z'
                                  ]
                                  </code></pre>
                                  <div class="highlight__panel js-actions-panel">
                                  <div class="highlight__panel-action js-fullscreen-code-action">
                                    
                                  
                                  </div>
                                  </div>
                                  </div>
                                  
                                  
                                  
                                  <p>As you can see, Item 10 was created ~1s before item 1 was created. Even though the method maintained the order of the Promise resolutions, there was this effect that timestamps were dependent on these random intervals.</p>
                                  
                                  <p>This makes sense if you think about it, because fundamentally the issue already arose in the loop - when generating the promises. The loop doesn't wait for the previous promise to arrive for the next one to be made - it's still just a Promise.</p>
                                  
                                  <h2>
                                    <a name="the-alternative-approach" href="#the-alternative-approach">
                                    </a>
                                    The alternative approach
                                  </h2>
                                  
                                  
                                  
                                  <div class="highlight js-code-highlight">
                                 <a href="../morgan-cv/assets/images/blog/4.png"><img src="../morgan-cv/assets/images/blog/4.png"></a>
                                  <div class="highlight__panel js-actions-panel">
                                  <div class="highlight__panel-action js-fullscreen-code-action">
                                    
                                  
                                  </div>
                                  </div>
                                  </div>
                                  
                                  
                                  
                                  <p>The code above is very similar, except we've removed promise.all() and replaced it with a simple <code>for of</code> loop. On each iteration, we HAVE to wait for the previous result, because of <code>await</code>. The outcome is:<br>
                                  </p>
                                  
                                  <div class="highlight js-code-highlight">
                                  <pre class="highlight plaintext"><code>[
                                    '0: 2021-04-15T08:12:13.026Z', 
                                    '1: 2021-04-15T08:12:17.042Z', 
                                    '2: 2021-04-15T08:12:21.314Z', 
                                    '3: 2021-04-15T08:12:21.600Z', 
                                    '4: 2021-04-15T08:12:22.984Z', 
                                    '5: 2021-04-15T08:12:27.061Z', 
                                    '6: 2021-04-15T08:12:28.771Z', 
                                    '7: 2021-04-15T08:12:30.432Z', 
                                    '8: 2021-04-15T08:12:31.530Z', 
                                    '9: 2021-04-15T08:12:35.691Z', 
                                    '10: 2021-04-15T08:12:40.394Z',
                                    '11: 2021-04-15T08:12:41.410Z'
                                  ]
                                  </code></pre>
                                  <div class="highlight__panel js-actions-panel">
                                  <div class="highlight__panel-action js-fullscreen-code-action">
                                   
                                  </div>
                                  </div>
                                  </div>
                                  
                                  
                                  
                                  <p>The results are ordered and so is the time component. This was what was actually expected.</p>
                                  
                                  <h2>
                                    <a name="conclusion" href="#conclusion">
                                    </a>
                                    Conclusion
                                  </h2>
                                  
                                  <p>Promise.all() is a super handy tool but because of it's abstraction, it's easy to overlook something like a time component. Keep in mind, the first example ran much quicker than the second, since the timers didn't need to complete before the next result was fired.</p>
                                  
                                  <p>So in general, if there is an element of time. e.g. a <code>dateCreated</code> property on the results of a list of Promises or asynchronous actions, consider using a loop instead of Promise.all().</p>
                                  
                                
						    </div>
							
					
						
					
						
									</div>
                                </div>
					        </div>
							
			            
						
							
					    </div>
					</div>
					
				
		        </div>
				
			</div>
		</div>	
    </main>

    <div class="back-to-top"></div>
	
    <!-- SVG masks -->
    <svg class="svg-defs">
        <clipPath id="avatar-box">
            <path d="M1.85379 38.4859C2.9221 18.6653 18.6653 2.92275 38.4858 1.85453 56.0986.905299 77.2792 0 94 0c16.721 0 37.901.905299 55.514 1.85453 19.821 1.06822 35.564 16.81077 36.632 36.63137C187.095 56.0922 188 77.267 188 94c0 16.733-.905 37.908-1.854 55.514-1.068 19.821-16.811 35.563-36.632 36.631C131.901 187.095 110.721 188 94 188c-16.7208 0-37.9014-.905-55.5142-1.855-19.8205-1.068-35.5637-16.81-36.63201-36.631C.904831 131.908 0 110.733 0 94c0-16.733.904831-37.9078 1.85379-55.5141z"/>
        </clipPath>
        <clipPath id="avatar-hexagon">
             <path d="M0 27.2891c0-4.6662 2.4889-8.976 6.52491-11.2986L31.308 1.72845c3.98-2.290382 8.8697-2.305446 12.8637-.03963l25.234 14.31558C73.4807 18.3162 76 22.6478 76 27.3426V56.684c0 4.6805-2.5041 9.0013-6.5597 11.3186L44.4317 82.2915c-3.9869 2.278-8.8765 2.278-12.8634 0L6.55974 68.0026C2.50414 65.6853 0 61.3645 0 56.684V27.2891z"/>
        </clipPath>		
    </svg>



	<!-- JavaScripts -->
	<script src="../morgan-cv/assets/js/jquery-3.4.1.min.js"></script>
	<script src="../morgan-cv/assets/js/plugins.min.js"></script>
    <script src="../morgan-cv/assets/js/common.js"></script>
    
	<script src="../morgan-cv/assets/demo/plugins-demo.js"></script>
</body>

<!-- Mirrored from art-template.ru/vcard1/dark/single-post.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 14 Aug 2021 00:14:18 GMT -->
</html>